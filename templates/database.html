{% extends "base.html" %}

{% block header %}
<div class="header">
    <h1>Plasmid Database</h1>
</div>
{% endblock %}

{% block content %}
<div class="container">
    <div class="datatable">
        <table id="plasmid_datatable" class="table display" style="width:100%">
        <thead>
            <tr>
                <th>ProjectID</th>
                <th>Project</th>
                <th>ID</th>
                <th>Features</th>
                <th>Attributes</th>
                <th>Description</th>
                <th>Location</th>
                <th>Creator</th>
                <th>Created</th>
            </tr>
            <tr class="filterInputsRow">
                <th></th>
                <th>
                    <select name="project" id="id_project" form="plasmidFilterInputs" class="filterInputs" required>
                    <option value=""></option>
                    {% for project in projects %}
                        <option value="{{ project.id }}">{{ project.project }}</option>
                    {% endfor %}
                    </select>
                </th>
                <th><input type="number" name="projectindex" min="1" step="any" id="id_projectindex" class="filterInputs" oninput="validity.valid||(value='');" placeholder="Filter"></th>
                <th><input type="text" name="features" id="id_features" class="filterInputs" placeholder="Filter"></th>
                <th><input type="text" name="attributes" id="id_attributes" class="filterInputs" placeholder="Filter"></th>
                <th><input type="text" name="description" id="id_description" class="filterInputs" placeholder="Filter"></th>
                <th><input type="text" name="locations" id="id_location" class="filterInputs" placeholder="Filter"></th>
                <th>
                    <select name="creator" id="id_creator" form="plasmidFilterInputs" class="filterInputs" required>
                    <option value=""></option>
                    {% for plasmidCreator in users %}
                        <option value="{{ plasmidCreator.id }}">{{ plasmidCreator }}</option>
                    {% endfor %}
                    </select>
                </th>
                <th><input type="text" name="date" id="id_date" class="filterInputs" placeholder="Filter"></th>
            </tr>
        </thead>
        </table>
    </div>
    <div class="DatatableOptions">
        <form method="post" action="download_database_plasmids/" style="display: inline-block">
            {% csrf_token %}
            <input type="hidden" name="DownloadSelectedDatabasePlasmids" id="DownloadSelectedDatabasePlasmids">
            <button type="submit" id="DownloadPlasmidsSubmitButton" class="BlockButton"><i class="fas fa-download fa-fw" data-fa-transform="grow-8"></i>  Download Selected Plasmids</button>
        </form>
        <div class="ToggleColumnButtonHolder">
            <button id="HideDatatableColumnsButton" class="BlockButton">Toggle Columns</button>
            <div id="ToggleDatatableColumns" class="PopupDialog">
                <ul>
                </ul>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block javascript %}
{# Javascript #}
<script type="text/javascript" charset="utf8" src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.js"></script>
{% load static %}
<script type="text/javascript" src="{% static 'plasmid_database/javascript/database.js' %}"></script>
{# CSS #}
<link rel="stylesheet" type="text/css" href="https://cdn.datatables.net/1.10.19/css/jquery.dataTables.css">
<link rel="stylesheet" type="text/css" href="{% static 'plasmid_database/css/database.css'%}">
{% endblock %}

{% block run_scripts %}
{#Script#}
<script type="text/javascript">
var csrftoken = getCookie('csrftoken');
</script>
{% endblock %}
